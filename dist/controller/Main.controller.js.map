{"version":3,"sources":["../../src/controller/Main.controller.js"],"names":["sap","ui","define","Controller","sapUi","jQuery","JSONModel","DateFormat","oRelativeDateFormat","getDateInstance","relative","relativeScale","extend","onInit","getView","setModel","page","onLanguageChange","oEvent","getCore","getConfiguration","setLanguage","getParameter","getModel","refresh","onCardClick","getSource","setActive","goToHome","setProperty","goToFeed","goToBrowse","formatRelativeDate","iDate","format","Date","parseInt","formatImageArray","aImages","map","i","formatCategory","iCategory","getResourceBundle","getText","formatCategoryColor"],"mappings":";;AAAAA,IAAIC,EAAJ,CAAOC,MAAP,CAAc,CACV,4BADU,EAEV,eAFU,EAGV,mBAHU,EAIV,6BAJU,EAKV,+BALU,CAAd,EAMG,UAAUC,UAAV,EAAsBC,KAAtB,EAA6BC,MAA7B,EAAqCC,SAArC,EAAgDC,UAAhD,EAA4D;AAC3D;;AAEA,QAAIC,sBAAsBD,WAAWE,eAAX,CAA2B,EAACC,UAAU,IAAX,EAAiBC,eAAe,MAAhC,EAA3B,CAA1B;;AAEA,WAAOR,WAAWS,MAAX,CAAkB,yBAAlB,EAA6C;;AAEhDC,gBAAQ,kBAAY;AAChB,iBAAKC,OAAL,GAAeC,QAAf,CAAwB,IAAIT,SAAJ,CAAc;AAClCU,sBAAM;AAD4B,aAAd,CAAxB,EAEI,MAFJ;AAGH,SAN+C;;AAQhDC,0BAAkB,0BAAUC,MAAV,EAAkB;AAChCd,kBAAMe,OAAN,GAAgBC,gBAAhB,GAAmCC,WAAnC,CAA+CH,OAAOI,YAAP,CAAoB,OAApB,CAA/C;AACA,iBAAKR,OAAL,GAAeS,QAAf,GAA0BC,OAA1B,CAAkC,IAAlC;AACH,SAX+C;;AAahDC,qBAAa,qBAAUP,MAAV,EAAkB;AAC3BA,mBAAOQ,SAAP,GAAmBC,SAAnB,CAA6B,IAA7B;AACH,SAf+C;;AAiBhDC,kBAAU,oBAAY;AAClB,iBAAKd,OAAL,GAAeS,QAAf,CAAwB,MAAxB,EAAgCM,WAAhC,CAA4C,OAA5C,EAAqD,MAArD;AACH,SAnB+C;;AAqBhDC,kBAAU,oBAAY;AAClB,iBAAKhB,OAAL,GAAeS,QAAf,CAAwB,MAAxB,EAAgCM,WAAhC,CAA4C,OAA5C,EAAqD,MAArD;AACH,SAvB+C;;AAyBhDE,oBAAY,sBAAY;AACpB,iBAAKjB,OAAL,GAAeS,QAAf,CAAwB,MAAxB,EAAgCM,WAAhC,CAA4C,OAA5C,EAAqD,QAArD;AACH,SA3B+C;;AA6BhDG,4BAAoB,4BAAUC,KAAV,EAAiB;AACjC,mBAAOzB,oBAAoB0B,MAApB,CAA2B,IAAIC,IAAJ,CAASC,SAASH,KAAT,EAAgB,EAAhB,IAAsB,IAA/B,CAA3B,CAAP;AACH,SA/B+C;;AAiChDI,0BAAkB,0BAAUC,OAAV,EAAmB;AACjC,mBAAOA,QAAQC,GAAR,CAAY;AAAA,uBAAK,mBAAmBC,CAAnB,GAAuB,MAA5B;AAAA,aAAZ,CAAP;AACH,SAnC+C;;AAqChDC,wBAAgB,wBAAUC,SAAV,EAAqB;AACjC,mBAAO,KAAK5B,OAAL,GAAeS,QAAf,CAAwB,MAAxB,EAAgCoB,iBAAhC,GAAoDC,OAApD,CAA4D,oBAAoBF,YAAY,CAAZ,GAAgB,CAApC,CAA5D,CAAP;AACH,SAvC+C;;AAyChDG,6BAAqB,6BAAUH,SAAV,EAAqB;AACtC,oBAAQA,YAAY,CAApB;AACI,qBAAK,CAAL;AAAQ,2BAAO,MAAP;AACR,qBAAK,CAAL;AAAQ,2BAAO,OAAP;AACR,qBAAK,CAAL;AAAQ,2BAAO,OAAP;AACR,qBAAK,CAAL;AAAQ,2BAAO,KAAP;AACR;AAAS,2BAAO,QAAP;AALb;AAOH;;AAjD+C,KAA7C,CAAP;AAqDH,CAhED","file":"Main.controller.js","sourcesContent":["sap.ui.define([\n    \"sap/ui/core/mvc/Controller\",\n    \"sap/ui/Global\",\n    \"jquery.sap.global\",\n    \"sap/ui/model/json/JSONModel\",\n    \"sap/ui/core/format/DateFormat\"\n], function (Controller, sapUi, jQuery, JSONModel, DateFormat) {\n    \"use strict\";\n\n    var oRelativeDateFormat = DateFormat.getDateInstance({relative: true, relativeScale: \"auto\"});\n\n    return Controller.extend(\"gallery.controller.Main\", {\n\n        onInit: function () {\n            this.getView().setModel(new JSONModel({\n                page: \"home\"\n            }), \"view\");\n        },\n\n        onLanguageChange: function (oEvent) {\n            sapUi.getCore().getConfiguration().setLanguage(oEvent.getParameter(\"value\"));\n            this.getView().getModel().refresh(true);\n        },\n\n        onCardClick: function (oEvent) {\n            oEvent.getSource().setActive(true);\n        },\n\n        goToHome: function () {\n            this.getView().getModel(\"view\").setProperty(\"/page\", \"home\");\n        },\n\n        goToFeed: function () {\n            this.getView().getModel(\"view\").setProperty(\"/page\", \"feed\");\n        },\n\n        goToBrowse: function () {\n            this.getView().getModel(\"view\").setProperty(\"/page\", \"browse\");\n        },\n\n        formatRelativeDate: function (iDate) {\n            return oRelativeDateFormat.format(new Date(parseInt(iDate, 10) * 1000));\n        },\n\n        formatImageArray: function (aImages) {\n            return aImages.map(i => \"assets/thumbs/\" + i + \".jpg\");\n        },\n\n        formatCategory: function (iCategory) {\n            return this.getView().getModel(\"i18n\").getResourceBundle().getText(\"photoCategory_\" + (iCategory % 5 + 1));\n        },\n\n        formatCategoryColor: function (iCategory) {\n            switch (iCategory % 5) {\n                case 0: return \"blue\";\n                case 1: return \"green\";\n                case 2: return \"black\";\n                case 3: return \"red\";\n                default: return \"orange\";\n            }\n        }\n\n    });\n\n});\n"]}